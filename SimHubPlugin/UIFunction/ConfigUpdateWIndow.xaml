<Window x:Class="User.PluginSdkDemo.UIFunction.ConfigUpdateWIndow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:User.PluginSdkDemo.UIFunction"
        xmlns:localResource="clr-namespace:User.PluginSdkDemo"
        xmlns:styles="clr-namespace:SimHub.Plugins.Styles;assembly=SimHub.Plugins" mc:Ignorable="d" 
        xmlns:controls="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
        Title="Update Setting" Height="500" Width="600" Background="{x:Null}" WindowStyle="ToolWindow" ResizeMode="NoResize">
    <Window.Resources>
        <localResource:StatusToTextConverter x:Key="StatusConverter"/>
    </Window.Resources>
    <Grid>
        <Border Background="#7F4E4E4E"  CornerRadius="5,5,5,5" BorderThickness="0,2,0,0" >
            <StackPanel Orientation="Horizontal" Width="390">
                <StackPanel>
                    <ListBox Name="ConfigListBox" Height="200" SelectionChanged="ProfilesListBox_SelectionChanged" VerticalAlignment="Top" Margin="10" HorizontalAlignment="Left" FontSize="10" FontFamily="Arial" Width="160" ItemsSource="{Binding ItemList}">
                        <ListBox.ContextMenu>
                            <ContextMenu>
                                <MenuItem Header="Add new" Command="{Binding AddNewItemCommand}"/>
                                <MenuItem Header="Remove All"/>
                            </ContextMenu>
                        </ListBox.ContextMenu>

                        <ListBox.ItemContainerStyle>
                            <Style TargetType="{x:Type ListBoxItem}">

                                <Setter Property="Tag" Value="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type ListBox}}, Path=DataContext}"/>

                                <Setter Property="ContextMenu">
                                    <Setter.Value>
                                        <ContextMenu>
                                            <MenuItem Header="Apply" Command="{Binding PlacementTarget.Tag.SetCurrentItemCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type ContextMenu}}}" CommandParameter="{Binding}"/>
                                            <MenuItem Header="Set Default" Command="{Binding PlacementTarget.Tag.SetDefaultItemCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type ContextMenu}}}" CommandParameter="{Binding}"/>
                                            <MenuItem Header="Add Item" Command="{Binding PlacementTarget.Tag.AddNewItemCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type ContextMenu}}}" CommandParameter="{Binding}"/>
                                            <MenuItem Header="Delete" Command="{Binding PlacementTarget.Tag.RemoveItemCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type ContextMenu}}}" CommandParameter="{Binding}"/>
                                        </ContextMenu>
                                    </Setter.Value>
                                </Setter>

                            </Style>
                        </ListBox.ItemContainerStyle>

                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <TextBlock>
                                    <TextBlock.Text>
                                        <Binding Path="ListName"/>
                                    </TextBlock.Text>
                                </TextBlock>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                    <styles:SHButtonPrimary x:Name="Btn_Apply" Click="Btn_Apply_Click" Width="160" Content="Apply" Height="25" Margin="10,0,0,0" HorizontalAlignment="Left" Padding="15,0,15,0" VerticalContentAlignment="Center" />
                    <styles:SHButtonPrimary x:Name="Btn_Online_profile_leave"  Click="Btn_Online_profile_leave_Click" Width="160" Content="Leave without Change" Height="25" Margin="10,10,0,0" HorizontalAlignment="Left" Padding="15,0,15,0" VerticalContentAlignment="Center" />
                </StackPanel>
                <StackPanel>
                    <StackPanel Height="100" HorizontalAlignment="Center" Margin="0,5,0,0">
                        <Canvas x:Name="canvas_Online_Config_curve" Height="100" Width="200" Background="#7F20232F" RenderTransformOrigin="0.5,0.5" HorizontalAlignment="Left" VerticalAlignment="Top" >
                            <TextBlock HorizontalAlignment="Center" VerticalAlignment="Top" Text="FORCE" Width="60" Foreground="#7F7D7D7D" RenderTransformOrigin="0.5,0.5" Canvas.Left="-25" Canvas.Top="40" FontFamily="Arial Black" Height="13" FontSize="10" TextAlignment="Center">
                                <TextBlock.RenderTransform>
                                    <TransformGroup>
                                        <ScaleTransform/>
                                        <SkewTransform/>
                                        <RotateTransform Angle="-90"/>
                                        <TranslateTransform/>
                                    </TransformGroup>
                                </TextBlock.RenderTransform>
                            </TextBlock>
                            <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" Text="TRAVEL" Width="60" Foreground="#7F7D7D7D" RenderTransformOrigin="0.5,0.5" Canvas.Left="70" Canvas.Top="88" FontFamily="Arial Black" TextAlignment="Center" Height="12" FontSize="10"/>

                            <Polyline x:Name="Polyline_Online_Config_ForceCurve" Stroke="{DynamicResource AccentColorBrush}" Height="200" Width="200" Opacity="0.7" Points="0,0 40,20 80,40 120,60 160,80 200,100" StrokeThickness="1" RenderTransformOrigin="1,0.5" Canvas.Top="-100" HorizontalAlignment="Left" VerticalAlignment="Center" >
                                <Polyline.RenderTransform>
                                    <TransformGroup>
                                        <ScaleTransform ScaleX="1" ScaleY="-1"/>
                                        <SkewTransform/>
                                        <RotateTransform/>
                                        <TranslateTransform X="0"/>
                                    </TransformGroup>
                                </Polyline.RenderTransform>
                            </Polyline>
                        </Canvas>
                    </StackPanel>
                    <TextBox x:Name="Textbox_Online_Profile_Description" Text="" Height="200" Width="210" FontFamily="Arial" HorizontalAlignment="Center" VerticalAlignment="Top" FontSize="10" Background="{x:Null}" BorderBrush="{x:Null}" ScrollViewer.CanContentScroll="True" CaretBrush="{x:Null}" BorderThickness="0,0,0,0" VerticalScrollBarVisibility="Auto"/>

                </StackPanel>
            </StackPanel>
        </Border>
    </Grid>
</Window>
